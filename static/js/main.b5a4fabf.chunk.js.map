{"version":3,"sources":["FromMarkdown.js","Graafik.js","Vastused.js","index.js","App.js"],"names":["FromMarkdown","props","state","fetch","this","name","then","res","text","result","setState","markdown","source","escapeHtml","React","Component","Graafik","canvasRef","createRef","data","chart","Chart","current","type","labels","Object","keys","datasets","datalabels","anchor","align","values","backgroundColor","plugins","ChartDataLabels","options","legend","display","title","question","scales","yAxes","ticks","beginAtZero","update","ref","Vastused","handleClick","e","selectedQuestion","target","Papa","parse","download","header","complete","results","questions","map","row","questionData","className","Button","onClick","variant","key","ReactDOM","render","Container","style","background","Row","Col","Tabs","Tab","eventKey","document","getElementById"],"mappings":"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","file":"static/js/main.b5a4fabf.chunk.js","sourcesContent":["import React from 'react'\r\nimport ReactMarkdown from 'react-markdown'\r\n\r\nexport default class FromMarkdown extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n  componentDidMount() {\r\n    fetch(`https://raw.githubusercontent.com/Jente22/elu2019turvalinekoolitee/master/public/${this.props.name}.md`)\r\n    //fetch(process.env.PUBLIC_URL + `${this.props.name}.md`)\r\n      .then(res => res.text())\r\n      .then(result => (\r\n        this.setState({\r\n          markdown: result\r\n        })\r\n      ))\r\n  }\r\n  render() {\r\n    return <ReactMarkdown source={this.state.markdown} escapeHtml={false} />\r\n  }\r\n}","import React from 'react'\r\nimport Chart from 'chart.js'\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels'\r\n\r\nexport default class Graafik extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.canvasRef = React.createRef()\r\n  }\r\n  componentDidMount() {\r\n    var data = this.props.data\r\n    delete data['']\r\n    this.chart = new Chart(this.canvasRef.current, {\r\n      type: 'bar',\r\n      data: {\r\n        labels: Object.keys(data),\r\n        datasets: [\r\n          {\r\n            datalabels: {\r\n              anchor: 'end',\r\n              align: 'top'\r\n            },\r\n            data: Object.values(data),\r\n            backgroundColor: 'lightgrey'\r\n          }\r\n        ]\r\n      },\r\n      plugins: [ChartDataLabels],\r\n      options: {\r\n        legend: { display: false },\r\n        title: {\r\n          display: true,\r\n          text: this.props.question\r\n        },\r\n        scales: {\r\n          yAxes: [{\r\n            ticks: {\r\n              beginAtZero: true\r\n            }\r\n          }]\r\n        }\r\n      }\r\n    })\r\n  }\r\n  componentDidUpdate() {\r\n    var data = this.props.data\r\n    delete data['']\r\n    this.chart.data.labels = Object.keys(data)\r\n    this.chart.data.datasets[0].data = Object.values(data)\r\n    this.chart.options.title.text = this.props.question\r\n    this.chart.update()\r\n  }\r\n  render() {\r\n    return <canvas ref={this.canvasRef} />\r\n  }\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport Papa from 'papaparse'\r\n\r\nimport Graafik from './Graafik'\r\n\r\nexport default class Vastused extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n  componentDidMount() {\r\n    Papa.parse(`https://raw.githubusercontent.com/Jente22/elu2019turvalinekoolitee/master/public/tulemused_${this.props.type}.csv`, {\r\n      download: true,\r\n      header: true,\r\n      complete: (results) => {\r\n        var questions = Object.keys(results.data[0])\r\n        var data = {}\r\n        questions.map(question => data[question] = {})\r\n        results.data.map(row =>\r\n          questions.map(question =>\r\n            data[question][row[question]] = (data[question][row[question]] || 0) + 1\r\n          )\r\n        )\r\n        delete data['Aeg']\r\n        delete data['Mis koolis käid?']\r\n        delete data['Mis koolis laps käib?']\r\n        this.setState({\r\n          data: data,\r\n          selectedQuestion: Object.keys(data)[0]\r\n        })\r\n      }\r\n    })\r\n  }\r\n  handleClick = e => {\r\n    this.setState({\r\n      selectedQuestion: e.target.name\r\n    })\r\n  }\r\n  render() {\r\n    var data = this.state.data\r\n    if (!data) return ''\r\n    var selectedQuestion = this.state.selectedQuestion\r\n    var questionData = data[selectedQuestion]\r\n    return <div className=\"mt-3\">\r\n      <Graafik question={selectedQuestion} data={questionData} />\r\n      {Object.keys(data).map(question => <Button\r\n        onClick={this.handleClick}\r\n        name={question}\r\n        variant={this.state.selectedQuestion !== question ? \"outline-success\" : \"outline-dark\"}\r\n        key={question}\r\n        className=\"mx-1 my-1\">{question}\r\n      </Button>\r\n      )}\r\n    </div>\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Col, Container, Row, Tab, Tabs } from 'react-bootstrap'\n\nimport FromMarkdown from './FromMarkdown'\nimport Vastused from './Vastused'\n\nexport default function App() {\n  return <Container className=\"my-3 py-3\" style={{ background: 'rgba(255, 255, 255, 0.9' }}>\n    <Row>\n      <Col>\n        <Tabs className=\"my-3\">\n          <Tab eventKey=\"1\" title=\"Sissejuhatus\"><FromMarkdown name=\"sissejuhatus\" /></Tab>\n          <Tab eventKey=\"2\" title=\"Kava ja kulg\"><FromMarkdown name=\"kava\" /></Tab>\n          <Tab eventKey=\"3\" title=\"Aruanne\"><FromMarkdown name=\"aruanne\" /></Tab>\n          <Tab eventKey=\"4\" title=\"Laste vastused\"><Vastused type=\"lapsed\" /></Tab>\n          <Tab eventKey=\"5\" title=\"Vanemate vastused\"><Vastused type=\"vanemad\" /></Tab>\n          <Tab eventKey=\"6\" title=\"Analüüs\" ><FromMarkdown name=\"analuus\" /></Tab>\n          <Tab eventKey=\"7\" title=\"Kokkuvõte\" ><FromMarkdown name=\"kokkuvote\" /></Tab>\n          <Tab eventKey=\"8\" title=\"Allikad\" ><FromMarkdown name=\"allikad\" /></Tab>\n          <Tab eventKey=\"9\" title=\"Reflektsioonid\" ><FromMarkdown name=\"reflektsioonid\" /></Tab>\n        </Tabs>\n      </Col>\n    </Row>\n  </Container>\n}"],"sourceRoot":""}