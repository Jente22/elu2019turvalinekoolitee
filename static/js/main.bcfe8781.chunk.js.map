{"version":3,"sources":["FromMarkdown.js","Graafik.js","Vastused.js","index.js","App.js"],"names":["FromMarkdown","props","state","fetch","this","name","then","res","text","result","setState","markdown","source","escapeHtml","className","Spinner","animation","variant","React","Component","Graafik","canvasRef","createRef","data","chart","Chart","current","type","labels","Object","keys","datasets","datalabels","anchor","align","values","backgroundColor","plugins","ChartDataLabels","options","legend","display","title","question","scales","yAxes","ticks","beginAtZero","update","ref","Vastused","handleClick","e","selectedQuestion","target","Papa","parse","download","header","complete","results","questions","map","row","Button","onClick","key","ReactDOM","render","Container","style","background","Row","Col","Tabs","Tab","eventKey","document","getElementById"],"mappings":"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","file":"static/js/main.bcfe8781.chunk.js","sourcesContent":["import React from 'react'\r\nimport ReactMarkdown from 'react-markdown'\r\nimport { Spinner } from 'react-bootstrap'\r\n\r\nexport default class FromMarkdown extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n  componentDidMount() {\r\n    fetch(`https://raw.githubusercontent.com/Jente22/elu2019turvalinekoolitee/master/public/${this.props.name}.md`)\r\n      //fetch(process.env.PUBLIC_URL + `${this.props.name}.md`)\r\n      .then(res => res.text())\r\n      .then(result => (\r\n        this.setState({\r\n          markdown: result\r\n        })\r\n      ))\r\n  }\r\n  render() {\r\n    if (!this.state.markdown) return <div className=\"d-flex justify-content-center\">\r\n      <Spinner animation=\"border\" variant=\"secondary\" />\r\n    </div>\r\n    return <ReactMarkdown source={this.state.markdown} escapeHtml={false} />\r\n  }\r\n}","import React from 'react'\r\nimport Chart from 'chart.js'\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels'\r\n\r\nexport default class Graafik extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.canvasRef = React.createRef()\r\n  }\r\n  componentDidMount() {\r\n    var data = this.props.data\r\n    delete data['']\r\n    this.chart = new Chart(this.canvasRef.current, {\r\n      type: 'bar',\r\n      data: {\r\n        labels: Object.keys(data),\r\n        datasets: [\r\n          {\r\n            datalabels: {\r\n              anchor: 'end',\r\n              align: 'top'\r\n            },\r\n            data: Object.values(data),\r\n            backgroundColor: 'lightblue'\r\n          }\r\n        ]\r\n      },\r\n      plugins: [ChartDataLabels],\r\n      options: {\r\n        legend: { display: false },\r\n        title: {\r\n          display: true,\r\n          text: this.props.question\r\n        },\r\n        scales: {\r\n          yAxes: [{\r\n            ticks: {\r\n              beginAtZero: true\r\n            }\r\n          }]\r\n        }\r\n      }\r\n    })\r\n  }\r\n  componentDidUpdate() {\r\n    var data = this.props.data\r\n    delete data['']\r\n    this.chart.data.labels = Object.keys(data)\r\n    this.chart.data.datasets[0].data = Object.values(data)\r\n    this.chart.options.title.text = this.props.question\r\n    this.chart.update()\r\n  }\r\n  render() {\r\n    return <canvas ref={this.canvasRef} />\r\n  }\r\n}","import React from 'react'\r\nimport { Button, Spinner } from 'react-bootstrap'\r\nimport Papa from 'papaparse'\r\n\r\nimport Graafik from './Graafik'\r\n\r\nexport default class Vastused extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n  componentDidMount() {\r\n    Papa.parse(`https://raw.githubusercontent.com/Jente22/elu2019turvalinekoolitee/master/public/tulemused_${this.props.type}.csv`, {\r\n      download: true,\r\n      header: true,\r\n      complete: (results) => {\r\n        var questions = Object.keys(results.data[0])\r\n        var data = {}\r\n        questions.map(question => data[question] = {})\r\n        results.data.map(row =>\r\n          questions.map(question =>\r\n            data[question][row[question]] = (data[question][row[question]] || 0) + 1\r\n          )\r\n        )\r\n        delete data['Aeg']\r\n        delete data['Mis koolis käid?']\r\n        delete data['Mis koolis laps käib?']\r\n        this.setState({\r\n          data: data,\r\n          selectedQuestion: Object.keys(data)[0]\r\n        })\r\n      }\r\n    })\r\n  }\r\n  handleClick = e => {\r\n    this.setState({\r\n      selectedQuestion: e.target.name\r\n    })\r\n  }\r\n  render() {\r\n    var data = this.state.data\r\n    if (!data) return <div className=\"d-flex justify-content-center\">\r\n      <Spinner animation=\"border\" variant=\"secondary\" />\r\n    </div>\r\n    var selectedQuestion = this.state.selectedQuestion\r\n    return <div className=\"mt-3\">\r\n      <Graafik question={selectedQuestion} data={data[selectedQuestion]} />\r\n      {Object.keys(data).map(question => <Button\r\n        onClick={this.handleClick}\r\n        name={question}\r\n        variant={selectedQuestion === question ? \"outline-info\" : \"outline-success\"}\r\n        key={question}\r\n        className=\"mx-1 my-1\"\r\n      >\r\n        {question}\r\n      </Button>\r\n      )}\r\n    </div>\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Col, Container, Row, Tab, Tabs } from 'react-bootstrap'\n\nimport FromMarkdown from './FromMarkdown'\nimport Vastused from './Vastused'\n\nexport default function App() {\n  return <Container className=\"my-3 py-3\" style={{ background: 'rgba(255, 255, 255, 0.9' }}>\n    <Row>\n      <Col>\n        <Tabs className=\"my-3\">\n          <Tab eventKey=\"1\" title=\"Sissejuhatus\"><FromMarkdown name=\"sissejuhatus\" /></Tab>\n          <Tab eventKey=\"2\" title=\"Kava ja kulg\"><FromMarkdown name=\"kava\" /></Tab>\n          <Tab eventKey=\"3\" title=\"Aruanne\"><FromMarkdown name=\"aruanne\" /></Tab>\n          <Tab eventKey=\"4\" title=\"Laste vastused\"><Vastused type=\"lapsed\" /></Tab>\n          <Tab eventKey=\"5\" title=\"Vanemate vastused\"><Vastused type=\"vanemad\" /></Tab>\n          <Tab eventKey=\"6\" title=\"Analüüs\" ><FromMarkdown name=\"analuus\" /></Tab>\n          <Tab eventKey=\"7\" title=\"Kokkuvõte\" ><FromMarkdown name=\"kokkuvote\" /></Tab>\n          <Tab eventKey=\"8\" title=\"Allikad\" ><FromMarkdown name=\"allikad\" /></Tab>\n          <Tab eventKey=\"9\" title=\"Reflektsioonid\" ><FromMarkdown name=\"reflektsioonid\" /></Tab>\n        </Tabs>\n      </Col>\n    </Row>\n  </Container>\n}"],"sourceRoot":""}